<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>Date</title>
    <link rel="icon" href="Images/Warden.png">
    <link rel="stylesheet" href="StandardStyle.css">
    <script src="Scripts/StandardFunctions.js"></script>
    <script src="Scripts/w3.js"></script>
</head>

<body>
    <!-- Navigation Bar-->
    <div w3-include-html="Navigation.html"></div>

    <div class="mainbody">
        <form>
            <fieldset>
                <label for="month">Month:</label>
                <input type="number" id="month" name="month" value="month" />

                <label for="day">Day:</label>
                <input type="number" id="day" name="day" value="day" />

                <label for="year">Year:</label>
                <input type="number" id="year" name="year" value="year" />

                <label for="timeBtn">
                    <input type="submit" id="timeBtn" name="timeBtn" value="Get Time Since" />
                </label>
            </fieldset>
        </form>
    </div>

    <script>
        w3.includeHTML(highlightCurrentNavLink);

        function getTime(evt){
            evt.preventDefault();

            var years = document.getElementById("year").value;

            var months = document.getElementById("month").value;
            if(months > 12){
                years += Math.floor(months / 12);
                months = months % 12;
            }

            var days = document.getElementById("day").value;
            if(days > 31){
                months += Math.floor(days/31);
                days = days % 31;
            }
            
            var dateNow = new Date();
            var givenDate = new Date(years, months - 1, days);

            days = Math.floor((dateNow - givenDate) / 86400000);
            months = 0;
            years = 0;

            if(days > 31){
                months += Math.floor(days/31);
                days = days % 31;
            }

            if(months > 12){
                years += Math.floor(months / 12);
                months = months % 12;
            }

            var timeSince = days + " day(s), " + months + " month(s), and " + years + " year(s)";

            window.alert("It has been " + timeSince + " since the given date");
        }

        function createBtnListener(){
            document.getElementsByTagName("form")[0].addEventListener("submit", getTime, false);
        }

        window.addEventListener("load", createBtnListener, false);
    </script>

</body>

</html>